# 配置国内镜像源（maven 阿里云 国内镜像 中央仓库 亲测可用）

> 众所周知，在墙内开发很头疼的一件事就是Maven仓库的连接速度太慢。虽然对于很多互联网企业和大中型软件公司，建个镜像是分分钟的事。但对于个人开发者和小公司来说，确实是个问题。之前有一阵子开源中国有提供maven仓库镜像，但目前已经无法使用了。
>
> 下面是大师兄测试记录
> 修改maven根目录下的conf文件夹中的setting.xml文件，如果你跟我一样修改了默认仓库的存储位置，即.m2文件夹下没有本地仓库，但是有个setting.xml文件，那就修改这个文件就可以啦。

具体内容和示意图如下：

```html
    <mirror>



      <id>alimaven</id>



      <name>aliyun maven</name>



      <url>http://maven.aliyun.com/nexus/content/groups/public/</url>



      <mirrorOf>central</mirrorOf>        



    </mirror>
```

![img](maven初始配置国内镜像源.assets/20161031150110121)

然后就是2张图对比一下，看看下载速度，公司每个人限速2M带宽吧。

![img](maven初始配置国内镜像源.assets/20161031150153732)

如上，确实看到在aliyun.com下载东西。

![img](maven初始配置国内镜像源.assets/20161031150225779)

然后，看下载速度，从空空如也，到下载完，也就十分钟多一点点，中间去聊了下qq，回来就完了。肯定在十分钟左右吧。

最后，是项目原来仓库和新下载下来的仓库的对比图：

![img](maven初始配置国内镜像源.assets/20161031150407828)

发现还是有很多的jar包没下载下来，估计和pom.xml文件里面的配置有关系吧。

然后，具体对比一下其中的log4j.jar文件夹；具体如下图：表示看不懂，我也是初看这个maven，还没看完呢，虽然项目在用maven，但是却不是很清楚。

哪个大哥要是知道我下面这个对比图的差异的话，指点一下吧。

![img](maven初始配置国内镜像源.assets/20161031151312544)

pom.xml关于log4j的配置如下：好像没啥特别的，问题应该不是在做这 吧。

```html
        <dependency>



            <groupId>log4j</groupId>



            <artifactId>log4j</artifactId>



            <version>1.2.17</version>



        </dependency>
```

图里面，左边是从阿里云新下载的本地仓库，怎么没的jar包呢？差别有点大。

**暂时认为原因如下：(不妥再修正)**

要么是远程仓库没有，要么就是没下载下来，确实是根据pom里面的依赖关系去下载到本地仓库里面。

(我刚刚又去测试了下，只是简单在pom.xml文件里面添加个依赖，即引入个包，)

在这个网站，搜索pom.xml文件里面的依赖关系。http://mvnrepository.com

![img](maven初始配置国内镜像源.assets/20161031160857211)

然后在pom.xml文件中添加上面的依赖；即蓝色选中部分，然后就自动下载到本地仓库，具体对比如下图 ；

![img](maven初始配置国内镜像源.assets/20161031161000236)

3.5这个文件夹是在修改了pom.xml文件之后，自动新建下载生成的。然后里面的文件是齐全的。包含jar包文件。